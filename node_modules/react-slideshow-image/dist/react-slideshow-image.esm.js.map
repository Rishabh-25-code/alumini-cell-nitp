{"version":3,"file":"react-slideshow-image.esm.js","sources":["../src/helpers.tsx","../src/props.ts","../src/fadezoom.tsx","../src/fade.tsx","../src/zoom.tsx","../src/slide.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport {\n    ButtonClick,\n    FadeProps,\n    IndicatorPropsType,\n    Responsive,\n    SlideProps,\n    TweenEasingFn,\n    ZoomProps,\n} from './types';\nimport { Easing } from '@tweenjs/tween.js';\n\nexport const getStartingIndex = (children: ReactNode, defaultIndex?: number): number => {\n    if (defaultIndex && defaultIndex < React.Children.count(children)) {\n        return defaultIndex;\n    }\n    return 0;\n};\n\nexport const getResponsiveSettings = (\n    wrapperWidth: number,\n    responsive?: Array<Responsive>\n): Responsive | undefined => {\n    if (typeof window !== 'undefined' && Array.isArray(responsive)) {\n        return responsive.find((each) => each.breakpoint <= wrapperWidth);\n    }\n    return;\n};\n\nconst EASING_METHODS: { [key: string]: TweenEasingFn } = {\n    linear: Easing.Linear.None,\n    ease: Easing.Quadratic.InOut,\n    'ease-in': Easing.Quadratic.In,\n    'ease-out': Easing.Quadratic.Out,\n    cubic: Easing.Cubic.InOut,\n    'cubic-in': Easing.Cubic.In,\n    'cubic-out': Easing.Cubic.Out,\n};\n\nexport const getEasing = (easeMethod?: string): TweenEasingFn => {\n    if (easeMethod) {\n        return EASING_METHODS[easeMethod];\n    }\n    return EASING_METHODS.linear;\n};\n\nexport const showPreviousArrow = (\n    { prevArrow, infinite }: FadeProps | SlideProps | ZoomProps,\n    currentIndex: number,\n    moveSlides: ButtonClick\n): ReactNode => {\n    const isDisabled = currentIndex <= 0 && !infinite;\n    const props = {\n        'data-type': 'prev',\n        'aria-label': 'Previous Slide',\n        disabled: isDisabled,\n        onClick: moveSlides,\n    };\n    if (prevArrow) {\n        return React.cloneElement(prevArrow, {\n            className: `${prevArrow.props.className || ''} nav ${isDisabled ? 'disabled' : ''}`,\n            ...props,\n        });\n    }\n    const className = `nav default-nav ${isDisabled ? 'disabled' : ''}`;\n    return (\n        <button type=\"button\" className={className} {...props}>\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\n            </svg>\n        </button>\n    );\n};\n\nexport const showNextArrow = (\n    properties: FadeProps | SlideProps | ZoomProps,\n    currentIndex: number,\n    moveSlides: ButtonClick\n) => {\n    const { nextArrow, infinite, children } = properties;\n    let slidesToScroll = 1;\n    if ('slidesToScroll' in properties) {\n        slidesToScroll = properties.slidesToScroll || 1;\n    }\n    const isDisabled = currentIndex >= React.Children.count(children) - slidesToScroll && !infinite;\n    const props = {\n        'data-type': 'next',\n        'aria-label': 'Next Slide',\n        disabled: isDisabled,\n        onClick: moveSlides,\n    };\n    if (nextArrow) {\n        return React.cloneElement(nextArrow, {\n            className: `${nextArrow.props.className || ''} nav ${isDisabled ? 'disabled' : ''}`,\n            ...props,\n        });\n    }\n    const className = `nav default-nav ${isDisabled ? 'disabled' : ''}`;\n    return (\n        <button type=\"button\" className={className} {...props}>\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                <path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\" />\n            </svg>\n        </button>\n    );\n};\n\nconst showDefaultIndicator = (\n    isCurrentPageActive: boolean,\n    key: number,\n    indicatorProps: IndicatorPropsType\n) => {\n    return (\n        <li key={key}>\n            <button\n                type=\"button\"\n                className={`each-slideshow-indicator ${isCurrentPageActive ? 'active' : ''}`}\n                {...indicatorProps}\n            />\n        </li>\n    );\n};\n\nconst showCustomIndicator = (\n    isCurrentPageActive: boolean,\n    key: number,\n    indicatorProps: any,\n    eachIndicator: any\n) => {\n    return React.cloneElement(eachIndicator, {\n        className: `${eachIndicator.props.className} ${isCurrentPageActive ? 'active' : ''}`,\n        key,\n        ...indicatorProps,\n    });\n};\n\nexport const showIndicators = (\n    props: FadeProps | SlideProps | ZoomProps,\n    currentIndex: number,\n    navigate: ButtonClick,\n    responsiveSettings?: Responsive\n): ReactNode => {\n    const { children, indicators } = props;\n    let slidesToScroll = 1;\n    if (responsiveSettings) {\n        slidesToScroll = responsiveSettings?.settings.slidesToScroll;\n    } else if ('slidesToScroll' in props) {\n        slidesToScroll = props.slidesToScroll || 1;\n    }\n    const pages = Math.ceil(React.Children.count(children) / slidesToScroll);\n    return (\n        <ul className=\"indicators\">\n            {Array.from({ length: pages }, (_, key) => {\n                const indicatorProps: IndicatorPropsType = {\n                    'data-key': key,\n                    'aria-label': `Go to slide ${key + 1}`,\n                    onClick: navigate,\n                };\n                const isCurrentPageActive =\n                    Math.floor((currentIndex + slidesToScroll - 1) / slidesToScroll) === key;\n                if (typeof indicators === 'function') {\n                    return showCustomIndicator(\n                        isCurrentPageActive,\n                        key,\n                        indicatorProps,\n                        indicators(key)\n                    );\n                }\n                return showDefaultIndicator(isCurrentPageActive, key, indicatorProps);\n            })}\n        </ul>\n    );\n};\n","export const defaultProps = {\n  duration: 5000,\n  transitionDuration: 1000,\n  defaultIndex: 0,\n  infinite: true,\n  autoplay: true,\n  indicators: false,\n  arrows: true,\n  pauseOnHover: true,\n  easing: 'linear',\n  canSwipe: true,\n  cssClass: '',\n  responsive: [],\n};\n","import React, {\n    useState,\n    useRef,\n    useEffect,\n    useMemo,\n    useImperativeHandle,\n    useCallback,\n} from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { Group, Tween } from '@tweenjs/tween.js';\nimport {\n    getEasing,\n    getStartingIndex,\n    showIndicators,\n    showNextArrow,\n    showPreviousArrow,\n} from './helpers';\nimport { ButtonClick, SlideshowRef, ZoomProps } from './types';\nimport { defaultProps } from './props';\n\nexport const FadeZoom = React.forwardRef<SlideshowRef, ZoomProps>((props, ref) => {\n    const [index, setIndex] = useState<number>(\n        getStartingIndex(props.children, props.defaultIndex)\n    );\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const innerWrapperRef = useRef<any>(null);\n    const tweenGroup = useRef(new Group());\n    const timeout = useRef<NodeJS.Timeout>();\n    const resizeObserver = useRef<any>();\n    const childrenCount = useMemo(() => React.Children.count(props.children), [props.children]);\n\n    const applyStyle = useCallback(() => {\n        if (innerWrapperRef.current && wrapperRef.current) {\n            const wrapperWidth = wrapperRef.current.clientWidth;\n            const fullwidth = wrapperWidth * childrenCount;\n            innerWrapperRef.current.style.width = `${fullwidth}px`;\n            for (let index = 0; index < innerWrapperRef.current.children.length; index++) {\n                const eachDiv = innerWrapperRef.current.children[index];\n                if (eachDiv) {\n                    eachDiv.style.width = `${wrapperWidth}px`;\n                    eachDiv.style.left = `${index * -wrapperWidth}px`;\n                    eachDiv.style.display = `block`;\n                }\n            }\n        }\n    }, [wrapperRef, innerWrapperRef, childrenCount]);\n\n    const initResizeObserver = useCallback(() => {\n        if (wrapperRef.current) {\n            resizeObserver.current = new ResizeObserver((entries) => {\n                if (!entries) return;\n                applyStyle();\n            });\n            resizeObserver.current.observe(wrapperRef.current);\n        }\n    }, [wrapperRef, applyStyle]);\n\n    const play = useCallback(() => {\n        const { autoplay, children, duration, infinite } = props;\n        if (\n            autoplay &&\n            React.Children.count(children) > 1 &&\n            (infinite || index < React.Children.count(children) - 1)\n        ) {\n            timeout.current = setTimeout(moveNext, duration);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props, index]);\n\n    useEffect(() => {\n        initResizeObserver();\n        return () => {\n            tweenGroup.current.removeAll();\n            clearTimeout(timeout.current);\n            removeResizeObserver();\n        };\n    }, [initResizeObserver, tweenGroup]);\n\n    useEffect(() => {\n        clearTimeout(timeout.current);\n        play();\n    }, [index, props.autoplay, play]);\n\n    useEffect(() => {\n        applyStyle();\n    }, [childrenCount, applyStyle]);\n\n    useImperativeHandle(ref, () => ({\n        goNext: () => {\n            moveNext();\n        },\n        goBack: () => {\n            moveBack();\n        },\n        goTo: (index: number, options?: { skipTransition?: boolean }) => {\n            if (options?.skipTransition) {\n                setIndex(index);\n            } else {\n                moveTo(index);\n            }\n        },\n    }));\n\n    const removeResizeObserver = () => {\n        if (resizeObserver.current && wrapperRef.current) {\n            resizeObserver.current.unobserve(wrapperRef.current);\n        }\n    };\n\n    const pauseSlides = () => {\n        if (props.pauseOnHover) {\n            clearTimeout(timeout.current);\n        }\n    };\n\n    const startSlides = () => {\n        const { pauseOnHover, autoplay, duration } = props;\n        if (pauseOnHover && autoplay) {\n            timeout.current = setTimeout(() => moveNext(), duration);\n        }\n    };\n\n    const moveNext = () => {\n        const { children, infinite } = props;\n        if (!infinite && index === React.Children.count(children) - 1) {\n            return;\n        }\n        transitionSlide((index + 1) % React.Children.count(children));\n    };\n\n    const moveBack = () => {\n        const { children, infinite } = props;\n        if (!infinite && index === 0) {\n            return;\n        }\n        transitionSlide(index === 0 ? React.Children.count(children) - 1 : index - 1);\n    };\n\n    const preTransition: ButtonClick = (event) => {\n        const { currentTarget } = event;\n        if (currentTarget.dataset.type === 'prev') {\n            moveBack();\n        } else {\n            moveNext();\n        }\n    };\n\n    const animate = () => {\n        requestAnimationFrame(animate);\n        tweenGroup.current.update();\n    };\n\n    const transitionSlide = (newIndex: number) => {\n        const existingTweens = tweenGroup.current.getAll();\n        if (!existingTweens.length) {\n            if (!innerWrapperRef.current?.children[newIndex]) {\n                newIndex = 0;\n            }\n            clearTimeout(timeout.current);\n            const value = { opacity: 0, scale: 1 };\n\n            animate();\n\n            const tween = new Tween(value, tweenGroup.current)\n                .to({ opacity: 1, scale: props.scale }, props.transitionDuration)\n                .onUpdate((value) => {\n                    if (!innerWrapperRef.current) {\n                        return;\n                    }\n                    innerWrapperRef.current.children[newIndex].style.opacity = value.opacity;\n                    innerWrapperRef.current.children[index].style.opacity = 1 - value.opacity;\n                    innerWrapperRef.current.children[\n                        index\n                    ].style.transform = `scale(${value.scale})`;\n                });\n            tween.easing(getEasing(props.easing));\n            tween.onStart(() => {\n                if (typeof props.onStartChange === 'function') {\n                    props.onStartChange(index, newIndex);\n                }\n            });\n            tween.onComplete(() => {\n                if (innerWrapperRef.current) {\n                    setIndex(newIndex);\n                    innerWrapperRef.current.children[index].style.transform = `scale(1)`;\n                }\n                if (typeof props.onChange === 'function') {\n                    props.onChange(index, newIndex);\n                }\n            });\n            tween.start();\n        }\n    };\n\n    const moveTo = (gotoIndex: number) => {\n        if (gotoIndex !== index) {\n            transitionSlide(gotoIndex);\n        }\n    };\n\n    const navigate: ButtonClick = (event) => {\n        const { currentTarget } = event;\n        if (!currentTarget.dataset.key) {\n            return;\n        }\n        if (parseInt(currentTarget.dataset.key) !== index) {\n            moveTo(parseInt(currentTarget.dataset.key));\n        }\n    };\n\n    return (\n        <div dir=\"ltr\" aria-roledescription=\"carousel\">\n            <div\n                className={`react-slideshow-container ${props.cssClass || ''}`}\n                onMouseEnter={pauseSlides}\n                onMouseOver={pauseSlides}\n                onMouseLeave={startSlides}\n            >\n                {props.arrows && showPreviousArrow(props, index, preTransition)}\n                <div\n                    className={`react-slideshow-fadezoom-wrapper ${props.cssClass}`}\n                    ref={wrapperRef}\n                >\n                    <div className=\"react-slideshow-fadezoom-images-wrap\" ref={innerWrapperRef}>\n                        {(React.Children.map(props.children, (thisArg) => thisArg) || []).map(\n                            (each, key) => (\n                                <div\n                                    style={{\n                                        opacity: key === index ? '1' : '0',\n                                        zIndex: key === index ? '1' : '0',\n                                    }}\n                                    data-index={key}\n                                    key={key}\n                                    aria-roledescription=\"slide\"\n                                    aria-hidden={key === index ? 'false' : 'true'}\n                                >\n                                    {each}\n                                </div>\n                            )\n                        )}\n                    </div>\n                </div>\n                {props.arrows && showNextArrow(props, index, preTransition)}\n            </div>\n            {props.indicators && showIndicators(props, index, navigate)}\n        </div>\n    );\n});\n\nFadeZoom.defaultProps = defaultProps;\n","import React from 'react';\nimport { FadeZoom } from './fadezoom';\nimport { defaultProps } from './props';\nimport { FadeProps, SlideshowRef } from './types';\n\nexport const Fade = React.forwardRef<SlideshowRef, FadeProps>((props, ref) => {\n    return <FadeZoom {...props} scale={1} ref={ref} />;\n});\n\nFade.defaultProps = defaultProps;\n","import React from 'react';\nimport { FadeZoom } from './fadezoom';\nimport { defaultProps } from './props';\nimport { SlideshowRef, ZoomProps } from './types';\n\nexport const Zoom = React.forwardRef<SlideshowRef, ZoomProps>((props, ref) => {\n    return <FadeZoom {...props} ref={ref} />;\n});\n\nZoom.defaultProps = defaultProps;\n","import React, {\n    useState,\n    useRef,\n    useEffect,\n    useMemo,\n    useImperativeHandle,\n    useCallback,\n} from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { Group, Tween } from '@tweenjs/tween.js';\nimport {\n    getEasing,\n    getResponsiveSettings,\n    getStartingIndex,\n    showIndicators,\n    showNextArrow,\n    showPreviousArrow,\n} from './helpers';\nimport { ButtonClick, SlideshowRef, SlideProps } from './types';\nimport { defaultProps } from './props';\n\nexport const Slide = React.forwardRef<SlideshowRef, SlideProps>((props, ref) => {\n    const [index, setIndex] = useState(getStartingIndex(props.children, props.defaultIndex));\n    const [wrapperSize, setWrapperSize] = useState<number>(0);\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const innerWrapperRef = useRef<any>(null);\n    const tweenGroup = useRef(new Group());\n    const responsiveSettings = useMemo(\n        () => getResponsiveSettings(wrapperSize, props.responsive),\n        [wrapperSize, props.responsive]\n    );\n    const slidesToScroll = useMemo(() => {\n        if (responsiveSettings) {\n            return responsiveSettings.settings.slidesToScroll;\n        }\n        return props.slidesToScroll || 1;\n    }, [responsiveSettings, props.slidesToScroll]);\n    const slidesToShow = useMemo(() => {\n        if (responsiveSettings) {\n            return responsiveSettings.settings.slidesToShow;\n        }\n        return props.slidesToShow || 1;\n    }, [responsiveSettings, props.slidesToShow]);\n    const childrenCount = useMemo(() => React.Children.count(props.children), [props.children]);\n    const eachChildSize = useMemo(() => wrapperSize / slidesToShow, [wrapperSize, slidesToShow]);\n    const timeout = useRef<NodeJS.Timeout>();\n    const resizeObserver = useRef<any>();\n    let startingSwipePosition: number;\n    let dragging: boolean = false;\n    let distanceSwiped: number = 0;\n    const translateType = props.vertical ? 'translateY' : 'translateX';\n    const swipeAttributeType = props.vertical ? 'clientY' : 'clientX';\n    const swipePageAttributeType = props.vertical ? 'pageY' : 'pageX';\n\n    const applyStyle = useCallback(() => {\n        if (innerWrapperRef.current) {\n            const fullSize = wrapperSize * innerWrapperRef.current.children.length;\n            const attribute = props.vertical ? 'height' : 'width';\n            innerWrapperRef.current.style[attribute] = `${fullSize}px`;\n            if (props.vertical && wrapperRef.current) {\n                wrapperRef.current.style[attribute] = `${wrapperSize}px`;\n            }\n            for (let index = 0; index < innerWrapperRef.current.children.length; index++) {\n                const eachDiv = innerWrapperRef.current.children[index];\n                if (eachDiv) {\n                    if (!props.vertical) {\n                        eachDiv.style[attribute] = `${eachChildSize}px`;\n                    }\n                    eachDiv.style.display = `block`;\n                }\n            }\n        }\n    }, [wrapperSize, eachChildSize]);\n\n    const initResizeObserver = useCallback(() => {\n        if (wrapperRef.current) {\n            resizeObserver.current = new ResizeObserver((entries) => {\n                if (!entries) return;\n                setSize();\n            });\n            resizeObserver.current.observe(wrapperRef.current);\n        }\n    }, [wrapperRef]);\n\n    const play = useCallback(() => {\n        const { autoplay, infinite, duration } = props;\n        if (autoplay && (infinite || index < childrenCount - 1)) {\n            timeout.current = setTimeout(moveNext, duration);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props, childrenCount, index]);\n\n    useEffect(() => {\n        applyStyle();\n    }, [wrapperSize, applyStyle]);\n\n    useEffect(() => {\n        initResizeObserver();\n        return () => {\n            tweenGroup.current.removeAll();\n            clearTimeout(timeout.current);\n            removeResizeObserver();\n        };\n    }, [wrapperRef, initResizeObserver, tweenGroup]);\n\n    useEffect(() => {\n        clearTimeout(timeout.current);\n        play();\n    }, [index, wrapperSize, props.autoplay, play]);\n\n    useImperativeHandle(ref, () => ({\n        goNext: () => {\n            moveNext();\n        },\n        goBack: () => {\n            moveBack();\n        },\n        goTo: (index: number, options?: { skipTransition?: boolean }) => {\n            if (options?.skipTransition) {\n                setIndex(index);\n            } else {\n                moveTo(index);\n            }\n        },\n    }));\n\n    const removeResizeObserver = () => {\n        if (resizeObserver && wrapperRef.current) {\n            resizeObserver.current.unobserve(wrapperRef.current);\n        }\n    };\n\n    const pauseSlides = () => {\n        if (props.pauseOnHover) {\n            clearTimeout(timeout.current);\n        }\n    };\n\n    const swipe = (event: React.MouseEvent | React.TouchEvent) => {\n        if (props.canSwipe && dragging) {\n            let position;\n            if (window.TouchEvent && event.nativeEvent instanceof TouchEvent) {\n                position = event.nativeEvent.touches[0][swipePageAttributeType];\n            } else {\n                position = (event.nativeEvent as MouseEvent)[swipeAttributeType];\n            }\n            if (position && startingSwipePosition) {\n                let translateValue = eachChildSize * (index + getOffset());\n                const distance = position - startingSwipePosition;\n                if (!props.infinite && index === childrenCount - slidesToScroll && distance < 0) {\n                    // if it is the last and infinite is false and you're swiping left\n                    // then nothing happens\n                    return;\n                }\n                if (!props.infinite && index === 0 && distance > 0) {\n                    // if it is the first and infinite is false and you're swiping right\n                    // then nothing happens\n                    return;\n                }\n                distanceSwiped = distance;\n                translateValue -= distanceSwiped;\n                innerWrapperRef.current.style.transform = `${translateType}(-${translateValue}px)`;\n            }\n        }\n    };\n\n    const moveNext = () => {\n        if (!props.infinite && index === childrenCount - slidesToScroll) {\n            return;\n        }\n        const nextIndex = calculateIndex(index + slidesToScroll);\n        transitionSlide(nextIndex);\n    };\n\n    const moveBack = () => {\n        if (!props.infinite && index === 0) {\n            return;\n        }\n        let previousIndex = index - slidesToScroll;\n        if (previousIndex % slidesToScroll) {\n            previousIndex = Math.ceil(previousIndex / slidesToScroll) * slidesToScroll;\n        }\n        transitionSlide(previousIndex);\n    };\n\n    const goToSlide: ButtonClick = ({ currentTarget }) => {\n        if (!currentTarget.dataset.key) {\n            return;\n        }\n        const datasetKey = parseInt(currentTarget.dataset.key);\n        moveTo(datasetKey * slidesToScroll);\n    };\n\n    const moveTo = (index: number) => {\n        transitionSlide(calculateIndex(index));\n    };\n\n    const calculateIndex = (nextIndex: number): number => {\n        if (nextIndex < childrenCount && nextIndex + slidesToScroll > childrenCount) {\n            if ((childrenCount - slidesToScroll) % slidesToScroll) {\n                return childrenCount - slidesToScroll;\n            }\n            return nextIndex;\n        }\n        return nextIndex;\n    };\n\n    const startSlides = () => {\n        if (dragging) {\n            endSwipe();\n        } else if (props.pauseOnHover && props.autoplay) {\n            timeout.current = setTimeout(moveNext, props.duration);\n        }\n    };\n\n    const moveSlides: ButtonClick = ({ currentTarget: { dataset } }) => {\n        if (dataset.type === 'next') {\n            moveNext();\n        } else {\n            moveBack();\n        }\n    };\n\n    const renderPreceedingSlides = () => {\n        return React.Children.toArray(props.children)\n            .slice(-slidesToShow)\n            .map((each, index) => (\n                <div\n                    data-index={index - slidesToShow}\n                    aria-roledescription=\"slide\"\n                    aria-hidden=\"true\"\n                    key={index - slidesToShow}\n                >\n                    {each}\n                </div>\n            ));\n    };\n\n    const renderTrailingSlides = () => {\n        if (!props.infinite && slidesToShow === slidesToScroll) {\n            return;\n        }\n        return React.Children.toArray(props.children)\n            .slice(0, slidesToShow)\n            .map((each, index) => (\n                <div\n                    data-index={childrenCount + index}\n                    aria-roledescription=\"slide\"\n                    aria-hidden=\"true\"\n                    key={childrenCount + index}\n                >\n                    {each}\n                </div>\n            ));\n    };\n\n    const setSize = () => {\n        const attribute = props.vertical ? 'clientHeight' : 'clientWidth';\n        if (props.vertical) {\n            if (innerWrapperRef.current) {\n                setWrapperSize(innerWrapperRef.current.children[0][attribute]);\n            }\n        } else {\n            if (wrapperRef.current) {\n                setWrapperSize(wrapperRef.current[attribute]);\n            }\n        }\n    };\n\n    const startSwipe = (event: React.MouseEvent | React.TouchEvent) => {\n        if (props.canSwipe) {\n            if (window.TouchEvent && event.nativeEvent instanceof TouchEvent) {\n                startingSwipePosition = event.nativeEvent.touches[0][swipePageAttributeType];\n            } else {\n                startingSwipePosition = (event.nativeEvent as MouseEvent)[swipeAttributeType];\n            }\n            clearTimeout(timeout.current);\n            dragging = true;\n        }\n    };\n\n    const endSwipe = () => {\n        if (props.canSwipe) {\n            dragging = false;\n            if (Math.abs(distanceSwiped) / wrapperSize > 0.2) {\n                if (distanceSwiped < 0) {\n                    moveNext();\n                } else {\n                    moveBack();\n                }\n            } else {\n                if (Math.abs(distanceSwiped) > 0) {\n                    transitionSlide(index, 300);\n                }\n            }\n        }\n    };\n\n    const animate = () => {\n        requestAnimationFrame(animate);\n        tweenGroup.current.update();\n    };\n\n    const transitionSlide = (toIndex: number, animationDuration?: number) => {\n        const transitionDuration = animationDuration || props.transitionDuration;\n        const currentIndex = index;\n        const existingTweens = tweenGroup.current.getAll();\n        if (!wrapperRef.current) {\n            return;\n        }\n        const attribute = props.vertical ? 'clientHeight' : 'clientWidth';\n        const childSize = wrapperRef.current[attribute] / slidesToShow;\n        if (!existingTweens.length) {\n            clearTimeout(timeout.current);\n            const value = {\n                margin: -childSize * (currentIndex + getOffset()) + distanceSwiped,\n            };\n            const tween = new Tween(value, tweenGroup.current)\n                .to({ margin: -childSize * (toIndex + getOffset()) }, transitionDuration)\n                .onUpdate((value) => {\n                    if (innerWrapperRef.current) {\n                        innerWrapperRef.current.style.transform = `${translateType}(${value.margin}px)`;\n                    }\n                });\n            tween.easing(getEasing(props.easing));\n\n            animate();\n\n            let newIndex = toIndex;\n            if (newIndex < 0) {\n                newIndex = childrenCount - slidesToScroll;\n            } else if (newIndex >= childrenCount) {\n                newIndex = 0;\n            }\n\n            tween.onStart(() => {\n                if (typeof props.onStartChange === 'function') {\n                    props.onStartChange(index, newIndex);\n                }\n            });\n\n            tween.onComplete(() => {\n                distanceSwiped = 0;\n                if (typeof props.onChange === 'function') {\n                    props.onChange(index, newIndex);\n                }\n                setIndex(newIndex);\n            });\n\n            tween.start();\n        }\n    };\n\n    const isSlideActive = (key: number) => {\n        return key < index + slidesToShow && key >= index;\n    };\n\n    const getOffset = (): number => {\n        if (!props.infinite) {\n            return 0;\n        }\n        return slidesToShow;\n    };\n\n    const style = {\n        transform: `${translateType}(-${(index + getOffset()) * eachChildSize}px)`,\n    };\n    return (\n        <div dir=\"ltr\" aria-roledescription=\"carousel\">\n            <div\n                className=\"react-slideshow-container\"\n                onMouseEnter={pauseSlides}\n                onMouseOver={pauseSlides}\n                onMouseLeave={startSlides}\n                onMouseDown={startSwipe}\n                onMouseUp={endSwipe}\n                onMouseMove={swipe}\n                onTouchStart={startSwipe}\n                onTouchEnd={endSwipe}\n                onTouchCancel={endSwipe}\n                onTouchMove={swipe}\n            >\n                {props.arrows && showPreviousArrow(props, index, moveSlides)}\n                <div\n                    className={`react-slideshow-wrapper slide ${props.cssClass || ''}`}\n                    ref={wrapperRef}\n                >\n                    <div\n                        className={`images-wrap ${props.vertical ? 'vertical' : 'horizontal'}`}\n                        style={style}\n                        ref={innerWrapperRef}\n                    >\n                        {props.infinite && renderPreceedingSlides()}\n                        {(React.Children.map(props.children, (thisArg) => thisArg) || []).map(\n                            (each, key) => {\n                                const isThisSlideActive = isSlideActive(key);\n                                return (\n                                    <div\n                                        data-index={key}\n                                        key={key}\n                                        className={isThisSlideActive ? 'active' : ''}\n                                        aria-roledescription=\"slide\"\n                                        aria-hidden={isThisSlideActive ? 'false' : 'true'}\n                                    >\n                                        {each}\n                                    </div>\n                                );\n                            }\n                        )}\n                        {renderTrailingSlides()}\n                    </div>\n                </div>\n                {props.arrows && showNextArrow(props, index, moveSlides)}\n            </div>\n            {!!props.indicators && showIndicators(props, index, goToSlide, responsiveSettings)}\n        </div>\n    );\n});\n\nSlide.defaultProps = defaultProps;\n"],"names":["getStartingIndex","children","defaultIndex","React","Children","count","getResponsiveSettings","wrapperWidth","responsive","window","Array","isArray","find","each","breakpoint","EASING_METHODS","linear","Easing","Linear","None","ease","Quadratic","InOut","In","Out","cubic","Cubic","getEasing","easeMethod","showPreviousArrow","_ref","currentIndex","moveSlides","prevArrow","infinite","isDisabled","props","disabled","onClick","cloneElement","_extends","className","type","width","height","viewBox","d","showNextArrow","properties","nextArrow","slidesToScroll","showDefaultIndicator","isCurrentPageActive","key","indicatorProps","showCustomIndicator","eachIndicator","showIndicators","navigate","responsiveSettings","indicators","settings","pages","Math","ceil","from","length","_","floor","defaultProps","duration","transitionDuration","autoplay","arrows","pauseOnHover","easing","canSwipe","cssClass","FadeZoom","forwardRef","ref","_useState","useState","index","setIndex","wrapperRef","useRef","innerWrapperRef","tweenGroup","Group","timeout","resizeObserver","childrenCount","useMemo","applyStyle","useCallback","current","clientWidth","fullwidth","style","eachDiv","left","display","initResizeObserver","ResizeObserver","entries","observe","play","setTimeout","moveNext","useEffect","removeAll","clearTimeout","removeResizeObserver","useImperativeHandle","goNext","goBack","moveBack","goTo","options","skipTransition","moveTo","unobserve","pauseSlides","startSlides","transitionSlide","preTransition","event","currentTarget","dataset","animate","requestAnimationFrame","update","newIndex","existingTweens","getAll","_innerWrapperRef$curr","value","opacity","scale","tween","Tween","to","onUpdate","transform","onStart","onStartChange","onComplete","onChange","start","gotoIndex","parseInt","dir","onMouseEnter","onMouseOver","onMouseLeave","map","thisArg","zIndex","Fade","Zoom","Slide","_useState2","wrapperSize","setWrapperSize","slidesToShow","eachChildSize","startingSwipePosition","dragging","distanceSwiped","translateType","vertical","swipeAttributeType","swipePageAttributeType","fullSize","attribute","setSize","swipe","position","TouchEvent","nativeEvent","touches","translateValue","getOffset","distance","nextIndex","calculateIndex","previousIndex","goToSlide","datasetKey","endSwipe","_ref2","renderPreceedingSlides","toArray","slice","renderTrailingSlides","startSwipe","abs","toIndex","animationDuration","childSize","margin","isSlideActive","onMouseDown","onMouseUp","onMouseMove","onTouchStart","onTouchEnd","onTouchCancel","onTouchMove","isThisSlideActive"],"mappings":"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"}